{% extends 'pages/base.html' %}

{% block title %} Order {% endblock %}

{% block content %}

<h1>Order Page</h1>
<div class="container-fluid" style="height: 80vh; overflow: auto; ">
    <table class="table" style="border-radius: 0.4rem; overflow: hidden;">
        <thead>
            <tr>
                <th>Order ID</th>
                <th>Customer Name</th>
                <th>Seller Name</th>
                <th>Total Quantity</th>
                <th>Total Bill</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% for order in Orders %}
            
                <tr>
                    <th scope="row">{{order.id}}</th>
                    <td>{{order.customer_name}}</td>
                    <td>{{order.user}}</td>
                    <td>{{order.total_quantity}}</td>
                    <td>{{order.total_bill}}</td>
                    <td>
                        <button style="width: 7rem; height: 2.5rem; border: none; background-color: #267a11; color: #ffffff ; border-radius: 0.3rem;" 
                            onclick="openOrderDetails({{order.id}})">View Details</button>
                    </td>
                </tr>
            {% endfor %}  
        </tbody>
    </table>
</div>
<script>
    function openOrderDetails(id) {
        var popupUrl = "{% url 'order_details' 0 %}".replace('0', id);
        window.open(popupUrl, 'OrderDetails', 'width=800,height=550');
    }
</script>
{% endblock%}


